<md:BaseModalPage
    x:Class="SecureFolderFS.Maui.Views.Modals.Wizard.SummaryWizardPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:l="clr-namespace:SecureFolderFS.Maui.Localization"
    xmlns:local="clr-namespace:SecureFolderFS.Maui.Views.Modals.Wizard"
    xmlns:md="clr-namespace:SecureFolderFS.Maui.Views.Modals"
    xmlns:mi="http://www.aathifmahir.com/dotnet/2022/maui/icons"
    xmlns:mi_cupertino="clr-namespace:MauiIcons.Cupertino;assembly=MauiIcons.Cupertino"
    xmlns:mi_material="clr-namespace:MauiIcons.Material;assembly=MauiIcons.Material"
    Title="{Binding ViewModel.Title, Mode=OneWay}"
    x:DataType="local:SummaryWizardPage"
    CloseCommand="{Binding OverlayViewModel.ContinuationCommand, Mode=OneWay}"
    CloseEnabled="{Binding ViewModel.CanContinue, Mode=OneWay}"
    CloseText="{Binding OverlayViewModel.SecondaryText, Mode=OneWay}">

    <md:BaseModalPage.ModalContent>
        <VerticalStackLayout
            Margin="0,0,0,96"
            HorizontalOptions="Center"
            Spacing="32"
            VerticalOptions="Center">

            <!--  Icon plate  -->
            <Border
                BackgroundColor="{AppThemeBinding Light={StaticResource SecondaryLightColor},
                                                  Dark={StaticResource SecondaryDarkColor}}"
                HeightRequest="96"
                HorizontalOptions="Center"
                StrokeThickness="0"
                WidthRequest="96">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="24" />
                </Border.StrokeShape>
                <Grid>
                    <mi:MauiIcon
                        HorizontalOptions="Center"
                        Icon="{mi_material:Material Icon=Check,
                                                    IconSize=48}"
                        IconColor="{AppThemeBinding Light={StaticResource PrimaryLightColor},
                                                    Dark={StaticResource PrimaryDarkColor}}"
                        OnPlatforms="Android"
                        VerticalOptions="Center" />
                    <mi:MauiIcon
                        HorizontalOptions="Center"
                        Icon="{mi_cupertino:Cupertino Icon=TrayArrowDownFill,
                                                      IconSize=48}"
                        IconColor="{AppThemeBinding Light={StaticResource PrimaryLightColor},
                                                    Dark={StaticResource PrimaryDarkColor}}"
                        OnPlatforms="iOS"
                        VerticalOptions="Center" />
                </Grid>
            </Border>

            <!--  Vault name + message  -->
            <VerticalStackLayout Spacing="6">
                <Label
                    FontAttributes="Bold"
                    FontSize="28"
                    HorizontalOptions="Center"
                    Text="{Binding ViewModel.VaultName, Mode=OneWay}" />
                <Label
                    FontSize="14"
                    HorizontalOptions="Center"
                    Opacity="0.5"
                    Text="{Binding ViewModel.Message, Mode=OneWay}" />
            </VerticalStackLayout>

            <!--  CTA button (iOS)  -->
            <OnPlatform x:TypeArguments="View">
                <On Platform="iOS">
                    <Border
                        BackgroundColor="{AppThemeBinding Light={StaticResource PrimaryLightColor},
                                                          Dark={StaticResource PrimaryDarkColor}}"
                        HeightRequest="50"
                        HorizontalOptions="Center"
                        MinimumWidthRequest="180"
                        StrokeThickness="0">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="14" />
                        </Border.StrokeShape>
                        <Label
                            FontAttributes="Bold"
                            FontSize="16"
                            HorizontalOptions="Center"
                            Text="{l:ResourceString Rid=GoToVaults}"
                            TextColor="White"
                            VerticalOptions="Center" />
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding OverlayViewModel.ContinuationCommand, Mode=OneWay}" />
                        </Border.GestureRecognizers>
                    </Border>
                </On>
            </OnPlatform>
        </VerticalStackLayout>
    </md:BaseModalPage.ModalContent>
</md:BaseModalPage>
