<ContentView
    x:Class="SecureFolderFS.Maui.UserControls.Options.OptionsControl"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:mtk="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
    xmlns:vc="clr-namespace:SecureFolderFS.Maui.ValueConverters"
    x:Name="ThisControl">

    <ContentView.Resources>
        <vc:NullToBoolConverter x:Key="NullToBoolConverter" />
    </ContentView.Resources>

    <VerticalStackLayout>
        <Grid
            Padding="16,0"
            ColumnSpacing="32"
            HeightRequest="40">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Label
                x:Name="TextSlotLabel"
                Grid.Row="0"
                Grid.Column="0"
                FontSize="15"
                IsVisible="{Binding Text, Mode=OneWay, Source={x:Reference TextSlotLabel}, Converter={StaticResource NullToBoolConverter}}"
                LineBreakMode="TailTruncation"
                Text="{Binding Title, Mode=OneWay, Source={x:Reference ThisControl}}"
                VerticalOptions="Center" />

            <ContentView
                Grid.Row="0"
                Grid.Column="1"
                Content="{Binding Slot, Mode=OneWay, Source={x:Reference ThisControl}}"
                HorizontalOptions="End"
                VerticalOptions="Center" />

            <ContentView
                Grid.Row="1"
                Grid.Column="0"
                Grid.ColumnSpan="2"
                Content="{Binding SlotBelow, Mode=OneWay, Source={x:Reference ThisControl}}"
                HorizontalOptions="Fill"
                IsVisible="{Binding SlotBelow, Mode=OneWay, Source={x:Reference ThisControl}, Converter={StaticResource NullToBoolConverter}}"
                VerticalOptions="Fill" />
        </Grid>

        <BoxView
            Margin="16,0"
            Background="{StaticResource ThemeElevatedFillSecondaryColorBrush}"
            HeightRequest="1"
            IsVisible="{Binding IsSeparatorVisible, Mode=OneWay, Source={x:Reference ThisControl}}" />

        <VerticalStackLayout.Behaviors>
            <mtk:TouchBehavior
                Command="{Binding Command, Mode=OneWay, Source={x:Reference ThisControl}}"
                CommandParameter="{Binding CommandParameter, Mode=OneWay, Source={x:Reference ThisControl}}"
                DefaultAnimationDuration="150"
                DefaultBackgroundColor="{AppThemeBinding Light={StaticResource LightTransparentColor},
                                                         Dark={StaticResource DarkTransparentColor}}"
                IsEnabled="{Binding Command, Mode=OneWay, Converter={StaticResource NullToBoolConverter}, Source={x:Reference ThisControl}, FallbackValue=True}"
                PressedAnimationDuration="150"
                PressedBackgroundColor="{StaticResource ShimFillPrimaryColor}" />
        </VerticalStackLayout.Behaviors>
    </VerticalStackLayout>
</ContentView>
