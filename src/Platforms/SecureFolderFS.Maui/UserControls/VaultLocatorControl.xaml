<ContentView
    x:Class="SecureFolderFS.Maui.UserControls.VaultLocatorControl"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:l="clr-namespace:SecureFolderFS.Maui.Localization"
    xmlns:mi="http://www.aathifmahir.com/dotnet/2022/maui/icons"
    xmlns:mi_cupertino="clr-namespace:MauiIcons.Cupertino;assembly=MauiIcons.Cupertino"
    xmlns:mi_material="clr-namespace:MauiIcons.Material;assembly=MauiIcons.Material"
    x:Name="ThisControl">

    <Grid>
        <VerticalStackLayout IsVisible="{Binding IsConnected, Mode=OneWay, Source={x:Reference ThisControl}, Converter={StaticResource BoolInvertConverter}}" Spacing="16">
            <VerticalStackLayout Spacing="8">
                <Grid HorizontalOptions="Center">
                    <mi:MauiIcon Icon="{mi_cupertino:Cupertino Wifi}" OnPlatforms="iOS" />
                    <mi:MauiIcon Icon="{mi_material:Material Wifi}" OnPlatforms="Android" />
                </Grid>

                <Label
                    HorizontalOptions="Center"
                    HorizontalTextAlignment="Center"
                    LineBreakMode="WordWrap"
                    Text="Before logging in, establish a connection to the remote vault." />
            </VerticalStackLayout>

            <Grid>
                <ActivityIndicator
                    HorizontalOptions="Center"
                    IsRunning="{Binding IsRunning, Mode=OneWay, Source={x:Reference ThisControl}}"
                    IsVisible="{Binding IsRunning, Mode=OneWay, Source={x:Reference ThisControl}}" />
                <Button
                    Command="{Binding ConnectCommand, Mode=OneWay, Source={x:Reference ThisControl}}"
                    HorizontalOptions="{OnPlatform Android={LayoutOptions Alignment=Fill},
                                                   iOS={LayoutOptions Alignment=Center}}"
                    IsVisible="{Binding IsRunning, Mode=OneWay, Source={x:Reference ThisControl}, Converter={StaticResource BoolInvertConverter}}"
                    Style="{OnPlatform Android={StaticResource TransparentButtonStyle},
                                       iOS={StaticResource NoBackgroundButtonStyle}}"
                    Text="{l:ResourceString Rid=Connect}" />
            </Grid>
        </VerticalStackLayout>

        <ContentView
            Content="{Binding LoginView, Mode=OneWay, Source={x:Reference ThisControl}}"
            HorizontalOptions="Fill"
            IsVisible="{Binding IsConnected, Mode=OneWay, Source={x:Reference ThisControl}}"
            VerticalOptions="Fill" />
    </Grid>
</ContentView>
